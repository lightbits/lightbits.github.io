<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>9bitscience</title>
    <link href='http://fonts.googleapis.com/css?family=PT+Serif:400,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div id="wrapper">
        <a href="http://lightbits.github.io/"><h1>**************************** 9bitscience *****************************</h1></a>
        SNAKE
    </div>
    <div id="project">
    <img alt="" src="http://1.bp.blogspot.com/-lkeWykpRwbE/UsiGFJWzg-I/AAAAAAAAAIQ/ecE8sQDjbIM/s1600/screenshot0.png" />
<p>This is my first 3D game, written using C++ and OpenGL. 
I went for a simple gameplay, but it ended up being complicated after all.</p>
<p>You control the snake with the arrow keys, around the sphere. 
Pick up apples to grow longer and avoid enemies to increase your score.</p>
<h2>Nerdy details</h2>
<p>I spent a while figuring out movement along the sphere. I first tried spherical coordinates, with a velocity for the horizontal and vertical angle. This did not give the kind motion I wanted - it was very unintuitive.</p>
<p>So I dropped this and looked back at my notes on physics, and remembered the sentripetal acceleration of a particle in a circular orbit <code>a = - dot(v, v) / r</code>.</p>
<p>To use this I work with positions in world space. The player's acceleration is specified in tangent space, which gives intuitive motion. To transform back to world space I form a tangent frame from the player's velocity, the sphere normal and the cross product of these as the bitangent.</p>
<p>The camera follows the player by using the <code>glm::lookAt</code> function, with the player's velocity as the up-vector, and position at player offset by a scaled normal.</p>
<p>The wireframe rendering actually uses a special shader, which is described <a href="http://codeflow.org/entries/2012/aug/02/easy-wireframe-display-with-barycentric-coordinates/">here</a>. By storing the barycentric coordinates with each vertex attribute, we can calculate how close to the edge we are, using the <code>`fwidth()</code> function, and color accordingly.</p>
<h2>Audio</h2>
<p>The sound effects were created with the <a href="http://www.bfxr.net/">bfxr</a> tool, and the bgm was made with <a href="http://pxtone.haru.gs/">pxTone</a>. This was my first time making music for a video game, and it went as you can tell -_-'.</p>
<h2>Source code and binaries</h2>
<p>The game was programmed with C++ 11, so you may have to download and install the Visual C++ Redistributable for Visual Studio 2012 x86, <a href="http://www.microsoft.com/en-us/download/details.aspx?id=30679">here</a>.</p>
<p>Windows binary: <a href="https://dl.dropboxusercontent.com/u/27844576/Releases/riemannsnake_windows.7z">riemannsnake_windows.7z</a>
Source code: <a href="https://github.com/lightbits/riemannsnake">lightbits/riemannsnake</a></p>
    </div>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = '9bitscience';
        var disqus_url = 'http://lightbits.github.io/2014/09/12/snake';
        var disqus_identifier = '2014-09-12-snake';
        var disqus_title = 'Snake';

        (function() {
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <div id="wrapper">
        <p>20 GOTO : <a href="https://twitter.com/uint9">Twitter</a>, <a href="https://github.com/lightbits">Github</a></p>
        <p>30 END : See you again!</p>
    </div>
</body>
</html>